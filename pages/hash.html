<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>功能中心</title>


    <link rel="stylesheet" href="../css/hash.css">
</head>

<body>

<div class='grain'></div>
<div class='intro'>
    <div class='center'>
        <div class='core'></div>
        <div class='outer_one'>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
            <div class='outer_one__piece'></div>
        </div>
        <div class='outer_two'>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
            <div class='outer_two__piece'></div>
        </div>
        <div class='outer_three'>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
            <div class='outer_three__piece'></div>
        </div>
        <div class='outer_four'>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
            <div class='outer_four__piece'></div>
        </div>
        <div class='outer_five'>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
            <div class='outer_five__piece'></div>
        </div>
        <div class='pieces'>
            <div class='future_ui__piece paike'>
                <span>上传排课表</span>
                <div class='line'></div>
                <div class='tip'>
                </div>
            </div>
            <div class='future_ui__piece grade'>
                <span>成绩系统</span>
                <div class='line'></div>
                <div class='tip'>
                </div>
            </div>
            <div class='future_ui__piece info'>
                <span>信息管理</span>
                <div class='line'></div>
                <div class='tip'>
                </div>
            </div>
            <div class='future_ui__piece analyze'>
                <span>统计分析</span>
                <div class='line'></div>
                <div class='tip'>
                </div>
            </div>
            <!--<div class='future_ui__piece'>-->
            <!--<span>Shields</span>-->
            <!--<div class='line'></div>-->
            <div class='tip'>
            </div>
        </div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
        <div class='future_ui__piece blank'></div>
    </div>
</div>

<input class="selectFile" style="display: none" type="file">

</body>

<script src="../js/queryGrade/jquery.min.js"></script>

<script>
    let selectFile = document.querySelector(".selectFile");
    document.querySelector(".grade").addEventListener('click', () => {window.location.href = "setScore.html";});
    document.querySelector(".info").addEventListener('click', () => {window.location.href = "curdEssentialInfo.html";});
    document.querySelector(".analyze").addEventListener('click', () => {window.location.href = "studentAnalyze.html"});
    document.querySelector(".paike").addEventListener('click', ()=>{selectFile.click();});

    selectFile.addEventListener('change', ()=>{submit();});

    function submit() {
        if(selectFile.files[0]==undefined)return;
        let forData = new FormData();
        forData.append("myFile", selectFile.files[0]);
        $.ajax({
            type: "POST",
            url: "http://203.195.193.218/es/addTimeTable",
            data: forData,
            mimeType: "multipart/form-data",
            contentType: false,
            processData: false,
            xhrFields: {
                withCredentials: true
            },
            complete: function (msg) {
                console.log(msg.responseText);
                if(msg.responseText.startsWith("{\"errCode\":104")){
                        alert("该时间已有课程设置！");
                        return;
                }
                let res = JSON.parse(msg.responseText);
                switch (res['errCode']) {
                    case 0:
                        alert("添加成功！");
                        break;
                    // case 104:
                    //     alert("该时间已有课程设置！");
                    //     break;
                    case 100:
                        alert(res['errMsg']);
                        window.location.href = "welcome.html";
                        break;
                    default:
                        alert(res['errMsg']);
                        break;
                }
            },
            error: function () {
                alert("网络错误！");
            }
        });
    }
</script>
</html>

